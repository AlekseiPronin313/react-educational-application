"use strict";(self.webpackChunkreact_educational_application=self.webpackChunkreact_educational_application||[]).push([[412],{412:function(e,n,s){s.r(n),s.d(n,{default:function(){return X}});var t=s(5671),r=s(3144),o=s(136),i=s(516),a=s(2791),l=s(8687),u=s(8331),c=s(5987),g="Users_users__wur6m",d="Users_img__QhM-n",f="Users_users_box__PiZDa",h="Users_box__0VQPw",p="Users_button_box__jODmI",m="Users_button__8ASMP",_="Users_box_info__9m+zE",P="Users_name__2XS57",x="Users_status__tohH4",j="Users_link__iLdzZ",v=s(885),C="Paginator_amount__Lth-r",w="Paginator_selectedPage__d0I6m",b="Paginator_active_selectedPage__JtPha",N="Paginator_button__zRdj0",S=s(184),I=function(e){for(var n=e.currentPage,s=e.onPageChanged,t=e.totalItemsCount,r=e.pageSize,o=e.portionSize,i=void 0===o?10:o,l=Math.ceil(t/r),u=[],c=1;c<=l;c++)u.push(c);var g=Math.ceil(l/i),d=a.useState(1),f=(0,v.Z)(d,2),h=f[0],p=f[1],m=(h-1)*i,_=h*i;return(0,S.jsxs)("div",{className:C,children:[h>1&&(0,S.jsx)("button",{className:N,onClick:function(){p(h-1)},children:"<"}),u.filter((function(e){return e>=m&&e<_})).map((function(e,t){return(0,S.jsx)("span",{className:n===e?b:w,onClick:function(){s(e)},children:e},t)})),g>h&&(0,S.jsx)("button",{className:N,onClick:function(){p(h+1)},children:">"})]})},U=s(1575),z=s(1087),k=function(e){var n=e.user,s=e.followingInProgress,t=e.unfollow,r=e.follow;return(0,S.jsxs)("div",{className:f,children:[(0,S.jsx)(z.OL,{className:j,to:"/profile/"+n.id,children:(0,S.jsx)("img",{className:d,src:null!=n.photos.small?n.photos.small:U,alt:"Avatar"})}),(0,S.jsxs)("div",{className:h,children:[(0,S.jsxs)("div",{className:_,children:[(0,S.jsx)("p",{className:P,children:n.name}),(0,S.jsx)("p",{className:x,children:n.status})]}),(0,S.jsx)("div",{className:p,children:n.followed?(0,S.jsx)("button",{disabled:s.some((function(e){return e===n.id})),className:m,onClick:function(){t(n.id)},children:"Unfollow"}):(0,S.jsx)("button",{disabled:s.some((function(e){return e===n.id})),className:m,onClick:function(){r(n.id)},children:"Follow"})})]})]})},F=s(5705),Z=function(e){return{}},y=a.memo((function(e){return(0,S.jsx)("div",{children:(0,S.jsx)(F.J9,{initialValues:{term:"",friend:null},validate:Z,onSubmit:function(n,s){var t=s.setSubmitting;e.onFilterChanged(n),t(!1)},children:function(e){var n=e.isSubmitting;return(0,S.jsxs)(F.l0,{children:[(0,S.jsx)(F.gN,{type:"text",name:"term"}),(0,S.jsxs)(F.gN,{name:"friend",as:"select",children:[(0,S.jsx)("option",{value:"null",children:"All"}),(0,S.jsx)("option",{value:"true",children:"Only followed"}),(0,S.jsx)("option",{value:"false",children:"Only unfollowed"})]}),(0,S.jsx)("button",{type:"submit",disabled:n,children:"Find"})]})}})})})),q=["currentPage","onPageChanged","totalItemsCount","pageSize","users"],M=function(e){var n=e.currentPage,s=e.onPageChanged,t=e.totalItemsCount,r=e.pageSize,o=e.users,i=(0,c.Z)(e,q);return(0,S.jsxs)("div",{className:g,children:[(0,S.jsx)(y,{onFilterChanged:i.onFilterChanged}),(0,S.jsx)(I,{currentPage:n,onPageChanged:s,totalItemsCount:t,pageSize:r}),o.map((function(e){return(0,S.jsx)(k,{user:e,followingInProgress:i.followingInProgress,unfollow:i.unfollow,follow:i.follow},e.id)}))]})},A=s(225),D=s(7781),O=(0,s(6916).P1)((function(e){return e.usersPage.users}),(function(e){return e})),L=function(e){return e.usersPage.pageSize},J=function(e){return e.usersPage.totalUsersCount},Q=function(e){return e.usersPage.currentPage},V=function(e){return e.usersPage.isFetching},E=function(e){return e.usersPage.followingInProgress},H=function(e){return e.usersPage.filter},R=function(e){(0,o.Z)(s,e);var n=(0,i.Z)(s);function s(){var e;(0,t.Z)(this,s);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))).onPageChanged=function(n){var s=e.props,t=s.pageSize,r=s.filter;e.props.requestUsers(n,t,r)},e.onFilterChanged=function(n){var s=e.props.pageSize;e.props.requestUsers(1,s,n)},e}return(0,r.Z)(s,[{key:"componentDidMount",value:function(){var e=this.props,n=e.currentPage,s=e.pageSize,t=e.filter;this.props.requestUsers(n,s,t)}},{key:"render",value:function(){return(0,S.jsxs)(S.Fragment,{children:[this.props.isFetching?(0,S.jsx)(A.Z,{}):null,(0,S.jsx)(M,{totalItemsCount:this.props.totalItemsCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,onFilterChanged:this.onFilterChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),s}(a.Component),X=(0,D.qC)((0,l.$j)((function(e){return{users:O(e),pageSize:L(e),totalItemsCount:J(e),currentPage:Q(e),isFetching:V(e),followingInProgress:E(e),filter:H(e)}}),{follow:u.ZN,unfollow:u.fv,requestUsers:u.D7}))(R)}}]);
//# sourceMappingURL=412.eace72a3.chunk.js.map